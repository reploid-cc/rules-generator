---
description: MCP development workflow with mandatory approval gates, user-specific tailoring and strict quality controls
globs:
alwaysApply: false
---
<!-- CONTENT_TARGET: AI_FACING - Mathematical notation User_Rules framework -->

# Î›.mcp_development: MCP Development Workflow (211)

## ğŸ¯ Î›.core_framework: Development Framework

### Î›.critical_compliance: Zero Tolerance Policy
```
Î›.mandatory_approval_gates = {
    CRITICAL_RULE: "ğŸ”´ NEVER_proceed_to_next_step_without_explicit_user_approval",
    ZERO_TOLERANCE: "ğŸ”´ proceeding_without_approval_is_CRITICAL_VIOLATION",
    ENFORCEMENT: "ğŸ”´ every_step_must_end_with_Î¨.dialog_and_WAIT_for_approval",
    VIOLATION_RESPONSE: "ğŸ”´ stop_immediately_apologize_update_rule_if_violated"
}

Î›.quality_standards = {
    FORBIDDEN_copy_paste: "ğŸ”´ NEVER_copy_paste_from_existing_documentation_or_setup_files",
    MANDATORY_synthesis: "ğŸ”´ ALWAYS_synthesize_and_analyze_from_original_ideas_file_ONLY",
    MANDATORY_user_context: "ğŸ”´ ALWAYS_understand_user_needs_goals_resources_constraints_first",
    MANDATORY_customization: "ğŸ”´ ALWAYS_tailor_to_complete_user_context_not_just_platform",
    QUALITY_CHECK: "verify_analysis_is_original_synthesized_user_specific_content"
}
```

### Î›.command_detection: Command Processing
```
Î›.init_command_pattern = "init mcp {mcp_name}"
Î›.workflow_trigger = (
    detect_init_mcp_command()
    â¨ extract_mcp_name_from_command()
    â¨ execute_6_step_workflow_WITH_MANDATORY_APPROVAL_GATES()
    â¨ ğŸ”´ WAIT_for_user_approval_before_each_step()
)

Î›.command_validation = (
    verify_mcp_name_provided()
    â¨ check_ideas_file_exists_at_mcp_servers_ideas_{mcp_name}_md()
    â¨ validate_file_readable_and_contains_specifications()
    â¨ report_validation_results_via_Î¨.dialog()
)
```

### Î›.workflow_process: Implementation Steps
```
Î›.implementation_workflow = (
    step_1_analysis()
    â¨ step_2_implementation()
    â¨ step_3_installation()
    â¨ step_4_integration()
    â¨ step_5_documentation()
    â¨ step_6_completion()
)

Î›.step_1_analysis = (
    ğŸ”´ MANDATORY_clarify_user_needs_goals_constraints()
    â¨ read_ONLY_mcp_servers_ideas_{mcp_name}_md_as_source()
    â¨ synthesize_requirements_for_user_complete_context()
    â¨ assess_complexity_HIGH_MEDIUM_LOW()
    â¨ create_user_specific_implementation_plan()
    â¨ present_complete_analysis_results_to_user()
    â¨ ğŸ”´ MANDATORY_Î¨.dialog_call_with_approval_request()
    â¨ ğŸ”´ CRITICAL_WAIT_for_explicit_user_approval_before_step_2()
)

Î›.step_2_implementation = (
    ğŸ”´ PREREQUISITE_user_explicitly_approved_step_1()
    â¨ create_mcp_servers_{mcp_name}_directory_structure()
    â¨ build_user_specific_setup_guides_and_configs()
    â¨ create_configuration_templates_and_documentation()
    â¨ prepare_installation_instructions()
    â¨ present_implementation_results_to_user()
    â¨ ğŸ”´ MANDATORY_Î¨.dialog_call_with_approval_request()
    â¨ ğŸ”´ CRITICAL_WAIT_for_explicit_user_approval_before_step_3()
)

Î›.step_3_installation = (
    ğŸ”´ PREREQUISITE_user_explicitly_approved_step_2()
    â¨ create_docker_network_for_mcp_servers()
    â¨ pull_required_docker_images()
    â¨ test_container_functionality_without_secrets()
    â¨ verify_installation_readiness()
    â¨ present_installation_results_to_user()
    â¨ ğŸ”´ MANDATORY_Î¨.dialog_call_with_approval_request()
    â¨ ğŸ”´ CRITICAL_WAIT_for_explicit_user_approval_before_step_4()
)

Î›.step_4_integration = (
    ğŸ”´ PREREQUISITE_user_explicitly_approved_step_3()
    â¨ update_Rule_201_mcp_routing_with_new_server()
    â¨ add_mcp_name_to_routing_logic_keyword_mapping()
    â¨ test_routing_integration_works()
    â¨ create_workflow_specific_rule_if_complex()
    â¨ present_integration_results_to_user()
    â¨ ğŸ”´ MANDATORY_Î¨.dialog_call_with_approval_request()
    â¨ ğŸ”´ CRITICAL_WAIT_for_explicit_user_approval_before_step_5()
)

Î›.step_5_documentation = (
    ğŸ”´ PREREQUISITE_user_explicitly_approved_step_4()
    â¨ update_main_README_with_new_server_entry()
    â¨ update_mcp_servers_README_with_inventory()
    â¨ create_comprehensive_setup_documentation()
    â¨ validate_all_links_and_references_work()
    â¨ present_documentation_results_to_user()
    â¨ ğŸ”´ MANDATORY_Î¨.dialog_call_with_approval_request()
    â¨ ğŸ”´ CRITICAL_WAIT_for_explicit_user_approval_before_step_6()
)

Î›.step_6_completion = (
    ğŸ”´ PREREQUISITE_user_explicitly_approved_step_5()
    â¨ run_comprehensive_integration_tests()
    â¨ validate_end_to_end_functionality()
    â¨ update_memory_bank_with_completion_status()
    â¨ move_from_ideas_to_active_status()
    â¨ present_final_completion_results_to_user()
    â¨ ğŸ”´ MANDATORY_Î¨.dialog_call_with_completion_confirmation()
)
```

## ğŸ¯ Î›.integration: System Integration

### Î›.approval_handling: User Response Processing
```
Î›.approval_keywords = ["approved", "approve", "proceed", "continue", "go ahead", "yes proceed"]
Î›.rejection_keywords = ["reject", "stop", "no", "wait", "modify", "change"]
Î›.ambiguous_response_handling = (
    if_user_response_not_clear_approval_or_rejection
    â¨ ask_for_explicit_clarification()
    â¨ ğŸ”´ NEVER_assume_approval_from_ambiguous_response()
    â¨ ğŸ”´ WAIT_for_clear_yes_or_no()
)
```

### Î›.cross_references: Related Rules
```
Î›.related_rules = {
    "0xx-core": ["core/001-core-standards.mdc"],
    "1xx-protocols": ["protocols/101-mandatory-protocols.mdc", "protocols/141-documentation-quality.mdc"],
    "2xx-services": ["services/201-mcp-server-management.mdc"],
    "8xx-workflows": ["workflow/801-task-system.mdc", "workflow/881-prd-workflow-system.mdc"],
    "integration": ["memory-integration.mdc", "hooks-integration.mdc"]
}
```

### Î›.system_hooks: Integration Points
```
Î›.system_hooks = {
    on_init_command: [Î›.workflow_trigger, Î›.command_validation],
    on_step_completion: [Î›.step_tracking, M.sync, Î¨.dialog],
    on_approval_received: [Î›.proceed_to_next_step, Î›.update_memory_with_approval],
    on_rejection_received: [Î›.rollback_protocol, Î›.update_memory_with_rejection],
    on_workflow_completion: [Î›.update_Rule_201, M.sync, Î¨.dialog]
}
```

## ğŸ¯ Î›.quality: Quality Standards

### Î›.memory_integration: Progress Tracking
```
Î›.step_tracking = (
    update_mcp_development_md_after_each_step()
    â¨ log_step_completion_status_and_user_approval()
    â¨ record_implementation_decisions_and_rationale()
    â¨ track_user_requirements_and_customizations()
    â¨ maintain_audit_trail_of_entire_process()
)

Î›.memory_sync_points = {
    step_1_complete: "analysis_results_complexity_user_context",
    step_2_complete: "implementation_status_files_created_configs",
    step_3_complete: "installation_status_docker_containers_running",
    step_4_complete: "integration_status_routing_updated_tested",
    step_5_complete: "documentation_status_links_validated_complete",
    step_6_complete: "completion_status_active_server_operational"
}
```

### Î›.validation_protocol: Quality Assurance
```
Î›.step_validation = (
    verify_step_objectives_fully_met()
    â¨ validate_deliverables_quality_and_completeness()
    â¨ check_integration_with_existing_system_works()
    â¨ ensure_documentation_accuracy_and_no_broken_links()
    â¨ confirm_user_specific_requirements_addressed()
)

Î›.rollback_protocol = (
    if_step_fails_or_user_rejects()
    â¨ document_failure_reason_in_memory()
    â¨ rollback_to_previous_stable_state()
    â¨ preserve_lessons_learned_for_improvement()
    â¨ allow_retry_with_modifications_based_on_feedback()
)
```

### Î›.anti_patterns: Error Prevention
```
Î›.anti_patterns = {
    proceeding_without_approval: ğŸ”´ CRITICAL_VIOLATION,
    skipping_approval_gates: ğŸ”´ CRITICAL_VIOLATION,
    assuming_implicit_approval: ğŸ”´ CRITICAL_VIOLATION,
    copy_pasting_from_templates: âš ï¸ MAJOR_VIOLATION,
    skipping_user_context_analysis: âš ï¸ MAJOR_VIOLATION,
    incomplete_documentation: âš ï¸ MAJOR_VIOLATION,
    generic_non_tailored_implementation: âš¡ VIOLATION,
    insufficient_testing: âš¡ VIOLATION,
    missing_memory_updates: âš¡ VIOLATION
}
```

---
*Î›.mcp_development: comprehensive_step_by_step_mcp_development_workflow_with_mandatory_approval_gates_user_specific_tailoring_and_strict_quality_controls*

















