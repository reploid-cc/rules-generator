---
description: 
globs: 
alwaysApply: false
---
# M.init Memory Initialization System (111)

## ğŸ¯ M.init_memory: Project Memory Setup Command

### Command Trigger
```
User Command: "init memory"
M.init_memory = automatic_memory_system_initialization
```

### M.init_memory_workflow: Complete Project Memory Setup
```
M.init_memory = (
    detect_project_context()
    â¨ create_memory_directory_if_missing()
    â¨ generate_foundation_files()
    â¨ initialize_with_project_specific_content()
    â¨ establish_memory_bank_structure()
    â¨ report_completion_via_Î¨.dialog()
)
```

## ğŸ¯ Memory Bank Structure trong .cursor/memory/

### Core Memory Files (Auto-Created by "init memory")
```
.cursor/memory/
â”œâ”€â”€ README.md                  # Memory system documentation
â”œâ”€â”€ errors.md                  # Î.error_memory for pattern tracking
â”œâ”€â”€ projectbrief.md            # Foundation document - source of truth
â”œâ”€â”€ productContext.md          # Why project exists, problems solved
â”œâ”€â”€ activeContext.md           # Current work focus, recent changes
â”œâ”€â”€ systemPatterns.md          # Architecture decisions, design patterns  
â”œâ”€â”€ techContext.md             # Technologies, development setup
â”œâ”€â”€ progress.md                # Status tracking, what works, what's left
â””â”€â”€ sumup.md                   # Master navigator for contextual retrieval
```

### M.memory_file_templates: Auto-Generated Content

#### projectbrief.md Template
```markdown
# Project Brief - [Project Name]

## ğŸ¯ Project Core Definition
**Project Name**: [Detected from directory/context]
**Project Type**: [Inferred from files/structure] 
**Primary Goal**: [To be filled based on initial analysis]

## ğŸ¯ Core Requirements
### Primary Objectives
[Generated based on project analysis]

### Success Criteria
[Template with project-specific items]

[Additional sections auto-populated based on context]
```

#### activeContext.md Template  
```markdown
# Active Context - [Project Name]

## ğŸ¯ Current Work Focus
**Current Phase**: Project Initialization
**Active Task**: Memory system setup completed
**Status**: Ready for development

## ğŸ¯ Recent Changes
- Memory system initialized via "init memory" command
- Foundation files created for project context preservation

[Dynamic content based on project state]
```

### M.context_detection: Intelligent Project Analysis
```
M.context_detection = (
    analyze_directory_structure()
    â¨ detect_programming_languages()
    â¨ identify_frameworks_and_tools()
    â¨ scan_existing_documentation()
    â¨ infer_project_type_and_purpose()
    â¨ generate_contextual_memory_content()
)
```

## ğŸ¯ M.init_memory_execution: Step-by-Step Process

### Step 1: Environment Detection
```
M.environment_detection = (
    check_if_cursor_directory_exists()
    â¨ create_memory_subdirectory()
    â¨ analyze_project_structure()
    â¨ detect_existing_documentation()
)
```

### Step 2: Foundation File Generation  
```
M.foundation_generation = (
    create_projectbrief_with_detected_context()
    â¨ generate_productContext_based_on_analysis()
    â¨ initialize_activeContext_with_current_state()
    â¨ setup_systemPatterns_framework()
    â¨ create_techContext_with_detected_stack()
    â¨ initialize_progress_tracking()
    â¨ generate_sumup_navigator()
)
```

### Step 3: Content Customization
```
M.content_customization = (
    if detect_web_project â†’ include_web_specific_patterns()
    â¨ if detect_mobile_project â†’ include_mobile_patterns()
    â¨ if detect_backend_api â†’ include_api_patterns()  
    â¨ if detect_existing_prd â†’ extract_requirements()
    â¨ if detect_existing_docs â†’ integrate_documentation()
)
```

### Step 4: Integration vá»›i User Rules
```
M.user_rules_integration = (
    ensure_compatibility_with_Î©_reasoning_modes()
    â¨ setup_Î¨_trace_capture_ready()
    â¨ initialize_Î›_pattern_learning_context()
    â¨ prepare_T_task_system_integration()
    â¨ setup_Î_diagnostics_framework()
)
```

## ğŸ¯ M.memory_maintenance: Ongoing Operations

### Session-Independent Context Preservation
```
M.session_continuity = (
    maintain_projectbrief_as_source_of_truth()
    â¨ update_activeContext_on_significant_changes()
    â¨ track_progress_systematically()
    â¨ evolve_systemPatterns_with_decisions()
    â¨ keep_techContext_current_with_stack_changes()
)
```

### Integration vá»›i Existing M.sync Operations
```
M.sync_enhanced = (
    // Standard User Rules memory operations
    store_cognitive_traces_in_trace_files()
    â¨ update_errors_md_with_Î_tracking()
    
    // Memory bank operations  
    â¨ update_activeContext_with_session_changes()
    â¨ sync_progress_with_completed_work()
    â¨ evolve_systemPatterns_with_architectural_insights()
)
```

## ğŸ¯ Quality Assurance & Validation

### M.init_validation: Setup Verification
```
M.init_validation = (
    verify_all_foundation_files_created()
    â¨ validate_content_quality_and_specificity()
    â¨ ensure_User_Rules_compatibility()
    â¨ test_memory_loading_functionality()
    â¨ confirm_session_continuity_capability()
)
```

### Success Criteria
- âœ… All 7 foundation files created with project-specific content
- âœ… Memory system ready for session-independent context preservation  
- âœ… Integration with existing User Rules M.memory_path seamless
- âœ… Project context detectable and maintainable across sessions
- âœ… Foundation set for productive development workflow

## ğŸ¯ Command Response Protocol

### "init memory" Execution Flow
1. **Detect Project Context**: Analyze current directory vÃ  project structure
2. **Create Memory Structure**: Ensure .cursor/memory/ exists vá»›i foundation files
3. **Generate Content**: Auto-populate vá»›i project-specific context
4. **Validate Setup**: Verify all components working properly
5. **Report Completion**: Comprehensive summary via Î¨.dialog

### Expected Output Message
```
âœ… Memory system initialized successfully!

Created foundation files:
- projectbrief.md (Project: [Name], Type: [Type])
- productContext.md (Purpose: [Purpose])  
- activeContext.md (Current focus: Memory setup complete)
- systemPatterns.md (Architecture: [Detected patterns])
- techContext.md (Stack: [Detected technologies])
- progress.md (Status: Ready for development)
- sumup.md (Navigator: Complete context guide)

ğŸ¯ Memory system ready for session-independent context preservation.
Project context will be maintained across AI resets.
```

---
*M.init_memory: Project memory initialization vá»›i intelligent context detection*

